shufflenet
No Prefetch
(07-22) 08:23:10 INFO     [aggregator.py:55] Job args Namespace(adam_epsilon=1e-08, augmentation_factor=0.4, backbone='./resnet50.pth', backend='gloo', base_port=25540, batch_size=20, bidirectional=True, blacklist_max_len=0.3, blacklist_rounds=-1, block_size=64, cfg_file='./utils/rcnn/cfgs/res101.yml', change_num=20, clf_block_size=32, clip_bound=0.9, clock_factor=1.1624548736462095, conf_path='~/dataset/', cuda_device=None, cut_off_util=0.05, data_cache='', data_dir='/mnt/fl/data/femnist', data_map_file='/mnt/fl/data/femnist/client_data_mapping/train.csv', data_set='femnist', dataset_total_worker=2800, decay_epoch=10, decay_factor=0.98, device_avail_file='/mnt/fl/data/device_info/client_behave_trace', device_conf_file='/mnt/fl/data/device_info/client_device_capacity_ul_dl', download_factor=1.2, dump_epoch=10000000000.0, embedding_file='glove.840B.300d.txt', epochs=2000, epsilon=0.9, eval_interval=5, executor_configs='127.0.0.1:[4]', exploration_alpha=0.3, exploration_decay=0.98, exploration_factor=0.9, exploration_min=0.3, filter_less=22, filter_more=1000000000000000.0, finetune=False, fl_method='FedDC', gamma=0.9, gradient_policy=None, hidden_layers=7, hidden_size=256, input_dim=0, job_name='dryrun', labels_path='labels.json', learning_rate=0.01, line_by_line=False, local_steps=10, log_path='/mnt/fl', loss_decay=0.2, malicious_factor=1000000000000000.0, manager_port=37377, max_prefetch_round=5, memory_capacity=2000, min_learning_rate=5e-05, mlm=False, mlm_probability=0.15, model='shufflenet_v2_x2_0', model_size=65536, n_actions=2, n_states=4, noise_dir=None, noise_factor=0.1, noise_max=0.5, noise_min=0.0, noise_prob=0.4, num_class=62, num_classes=35, num_executors=4, num_loaders=2, output_dim=0, overcommitment=1.3, overwrite_cache=False, pacer_delta=5, pacer_step=20, proxy_mu=0.1, ps_ip='127.0.0.1', ps_port='38649', regenerate_epoch=10, rnn_type='lstm', round_penalty=2.0, round_threshold=30, sample_mode='random', sample_rate=16000, sample_seed=233, sample_window=5.0, sampling_strategy='STICKY', shared_mask_ratio=0.16, spec_augment=False, speed_volume_perturb=False, sticky_group_size=400, target_replace_iter=15, task='cv', test_bsz=32, test_manifest='data/test_manifest.csv', test_output_dir='./logs/server', test_ratio=1.0, test_size_file='', this_rank=0, time_stamp='0722_082309', total_mask_ratio=0.2, total_worker=100, train_manifest='data/train_manifest.csv', train_size_file='', train_uniform=False, upload_epoch=20, upload_factor=0.8, use_cuda=True, vocab_tag_size=500, vocab_token_size=10000, weight_decay=0, window='hamming', window_size=0.02, window_stride=0.01, yogi_beta=0.9, yogi_beta2=0.99, yogi_eta=0.003, yogi_tau=1e-08)
(07-22) 10:45:47 INFO     [aggregator.py:715] Wall clock: 19152 s, Epoch: 130, Planned participants: 130, Succeed participants: 100, Training loss: 2.0037000771978977
(07-22) 10:45:47 INFO     [aggregator.py:729] Cumulative bandwidth usage:
             total (excluding overcommit): 1491360579.94 kbit
             total (including overcommit): 1670684809.77 kbit
             downstream: 976584271.78 kbit	upstream: 514776308.15 kbit	prefetch: 0.00 kbit	overcommit: 179324229.83 kbit
(07-22) 10:45:47 INFO     [aggregator.py:741] Cumulative round durations:
             (wall clock time) total:	19152.13 s
             total_dl:	5337.11 s	8005s             total_ul:	12923.18 s 	  8615           total_compute:	891.84 s
             avg_dl:	41.37 s	             avg_ul:	100.18 s	             avg_compute:	6.91 s
             client_avg_dl:	4.74 s	             client_avg_ul:	9.67 s	             client_avg_compute:	6.55 s   
Prefetch
(07-22) 20:15:52 INFO     [aggregator.py:55] Job args Namespace(adam_epsilon=1e-08, augmentation_factor=0.4, backbone='./resnet50.pth', backend='gloo', base_port=32229, batch_size=20, bidirectional=True, blacklist_max_len=0.3, blacklist_rounds=-1, block_size=64, cfg_file='./utils/rcnn/cfgs/res101.yml', change_num=20, clf_block_size=32, clip_bound=0.9, clock_factor=1.1624548736462095, conf_path='~/dataset/', cuda_device=None, cut_off_util=0.05, data_cache='', data_dir='/mnt/fl/data/femnist', data_map_file='/mnt/fl/data/femnist/client_data_mapping/train.csv', data_set='femnist', dataset_total_worker=2800, decay_epoch=10, decay_factor=0.98, device_avail_file='/mnt/fl/data/device_info/client_behave_trace', device_conf_file='/mnt/fl/data/device_info/client_device_capacity_ul_dl', download_factor=0.8, dump_epoch=10000000000.0, embedding_file='glove.840B.300d.txt', epochs=2000, epsilon=0.9, eval_interval=5, executor_configs='127.0.0.1:[4]', exploration_alpha=0.3, exploration_decay=0.98, exploration_factor=0.9, exploration_min=0.3, filter_less=22, filter_more=1000000000000000.0, finetune=False, fl_method='FedDCPrefetch', gamma=0.9, gradient_policy=None, hidden_layers=7, hidden_size=256, input_dim=0, job_name='dryrun', labels_path='labels.json', learning_rate=0.01, line_by_line=False, local_steps=10, log_path='/mnt/fl', loss_decay=0.2, malicious_factor=1000000000000000.0, manager_port=16268, max_prefetch_round=5, memory_capacity=2000, min_learning_rate=5e-05, mlm=False, mlm_probability=0.15, model='shufflenet_v2_x2_0', model_size=65536, n_actions=2, n_states=4, noise_dir=None, noise_factor=0.1, noise_max=0.5, noise_min=0.0, noise_prob=0.4, num_class=62, num_classes=35, num_executors=4, num_loaders=2, output_dim=0, overcommitment=1.3, overwrite_cache=False, pacer_delta=5, pacer_step=20, proxy_mu=0.1, ps_ip='127.0.0.1', ps_port='3260', regenerate_epoch=10, rnn_type='lstm', round_penalty=2.0, round_threshold=30, sample_mode='random', sample_rate=16000, sample_seed=233, sample_window=5.0, sampling_strategy='STICKY', shared_mask_ratio=0.16, spec_augment=False, speed_volume_perturb=False, sticky_group_size=400, target_replace_iter=15, task='cv', test_bsz=32, test_manifest='data/test_manifest.csv', test_output_dir='./logs/server', test_ratio=1.0, test_size_file='', this_rank=0, time_stamp='0722_201551', total_mask_ratio=0.2, total_worker=100, train_manifest='data/train_manifest.csv', train_size_file='', train_uniform=False, upload_epoch=20, upload_factor=1.2, use_cuda=True, vocab_tag_size=500, vocab_token_size=10000, weight_decay=0, window='hamming', window_size=0.02, window_stride=0.01, yogi_beta=0.9, yogi_beta2=0.99, yogi_eta=0.003, yogi_tau=1e-08)
(07-22) 22:52:07 INFO     [aggregator.py:715] Wall clock: 22086 s, Epoch: 130, Planned participants: 130, Succeed participants: 100, Training loss: 1.9408579557001544
(07-22) 22:52:07 INFO     [aggregator.py:729] Cumulative bandwidth usage:
             total (excluding overcommit): 1844514495.91 kbit
             total (including overcommit): 1937199808.51 kbit
             downstream: 677181434.14 kbit	upstream: 511090750.15 kbit	prefetch: 656242311.62 kbit	overcommit: 92685312.61 kbit
(07-22) 22:52:07 INFO     [aggregator.py:741] Cumulative round durations:
             (wall clock time) total:	22086.27 s
             total_dl:	5608.57              total_ul:	15698.74 s           total_compute:	778.96 s
             avg_dl:	43.48 s	             avg_ul:	121.70 s	             avg_compute:	6.04 s
             client_avg_dl:	5.10 s	             client_avg_ul:	9.08 s	             client_avg_compute:	6.38 s  




Prefetch
(07-22) 20:15:52 INFO     [aggregator.py:55] Job args Namespace(adam_epsilon=1e-08, augmentation_factor=0.4, backbone='./resnet50.pth', backend='gloo', base_port=32229, batch_size=20, bidirectional=True, blacklist_max_len=0.3, blacklist_rounds=-1, block_size=64, cfg_file='./utils/rcnn/cfgs/res101.yml', change_num=20, clf_block_size=32, clip_bound=0.9, clock_factor=1.1624548736462095, conf_path='~/dataset/', cuda_device=None, cut_off_util=0.05, data_cache='', data_dir='/mnt/fl/data/femnist', data_map_file='/mnt/fl/data/femnist/client_data_mapping/train.csv', data_set='femnist', dataset_total_worker=2800, decay_epoch=10, decay_factor=0.98, device_avail_file='/mnt/fl/data/device_info/client_behave_trace', device_conf_file='/mnt/fl/data/device_info/client_device_capacity_ul_dl', download_factor=0.8, dump_epoch=10000000000.0, embedding_file='glove.840B.300d.txt', epochs=2000, epsilon=0.9, eval_interval=5, executor_configs='127.0.0.1:[4]', exploration_alpha=0.3, exploration_decay=0.98, exploration_factor=0.9, exploration_min=0.3, filter_less=22, filter_more=1000000000000000.0, finetune=False, fl_method='FedDCPrefetch', gamma=0.9, gradient_policy=None, hidden_layers=7, hidden_size=256, input_dim=0, job_name='dryrun', labels_path='labels.json', learning_rate=0.01, line_by_line=False, local_steps=10, log_path='/mnt/fl', loss_decay=0.2, malicious_factor=1000000000000000.0, manager_port=16268, max_prefetch_round=5, memory_capacity=2000, min_learning_rate=5e-05, mlm=False, mlm_probability=0.15, model='shufflenet_v2_x2_0', model_size=65536, n_actions=2, n_states=4, noise_dir=None, noise_factor=0.1, noise_max=0.5, noise_min=0.0, noise_prob=0.4, num_class=62, num_classes=35, num_executors=4, num_loaders=2, output_dim=0, overcommitment=1.3, overwrite_cache=False, pacer_delta=5, pacer_step=20, proxy_mu=0.1, ps_ip='127.0.0.1', ps_port='3260', regenerate_epoch=10, rnn_type='lstm', round_penalty=2.0, round_threshold=30, sample_mode='random', sample_rate=16000, sample_seed=233, sample_window=5.0, sampling_strategy='STICKY', shared_mask_ratio=0.16, spec_augment=False, speed_volume_perturb=False, sticky_group_size=400, target_replace_iter=15, task='cv', test_bsz=32, test_manifest='data/test_manifest.csv', test_output_dir='./logs/server', test_ratio=1.0, test_size_file='', this_rank=0, time_stamp='0722_201551', total_mask_ratio=0.2, total_worker=100, train_manifest='data/train_manifest.csv', train_size_file='', train_uniform=False, upload_epoch=20, upload_factor=1.2, use_cuda=True, vocab_tag_size=500, vocab_token_size=10000, weight_decay=0, window='hamming', window_size=0.02, window_stride=0.01, yogi_beta=0.9, yogi_beta2=0.99, yogi_eta=0.003, yogi_tau=1e-08)
(07-23) 08:59:00 INFO     [aggregator.py:715] Wall clock: 40964 s, Epoch: 485, Planned participants: 130, Succeed participants: 100, Training loss: 1.0531675310018405
(07-23) 08:59:00 INFO     [aggregator.py:729] Cumulative bandwidth usage:
             total (excluding overcommit): 6755783795.11 kbit
             total (including overcommit): 7286268078.50 kbit
             downstream: 2495423220.98 kbit	upstream: 1933235414.70 kbit	prefetch: 2327125159.43 kbit	overcommit: 530484283.39 kbit
(07-23) 08:59:00 INFO     [aggregator.py:741] Cumulative round durations:
             (wall clock time) total:	40963.65 s
             total_dl:	10825.01 s	             total_ul:	26610.80 s	             total_compute:	3527.84 s
             avg_dl:	22.37 s	             avg_ul:	54.98 s	             avg_compute:	7.29 s
             client_avg_dl:	3.56 s	             client_avg_ul:	5.44 s	             client_avg_compute:	6.33 s    